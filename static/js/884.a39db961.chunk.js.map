{"version":3,"file":"static/js/884.a39db961.chunk.js","mappings":"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","sources":["components/Error/Error.styled.jsx","components/Error/Error.jsx","pages/MovieDetails/MovieDetails.jsx","services/fetchApi.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ErrorEl = styled.p`\n  margin: 0 auto;\n  margin-top: 40px;\n  margin-bottom: 40px;\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 1.2;\n  color: red;\n  width: 400px;\n  text-align: center;\n`;\n\nexport const ImgError = styled.img`\n  width: 240px;\n  margin: 0 auto;\n`;\n","import { ErrorEl, ImgError } from './Error.styled';\nimport errorImage from './errorImage.jpeg';\n\nexport default function Error() {\n  return (\n    <div role=\"alert\">\n      <ErrorEl>The resource you requested could not be found.</ErrorEl>\n      <ImgError src={errorImage} alt=\"Error\" />\n    </div>\n  );\n}\n","import { useState, useEffect, useRef } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { Link, Outlet } from 'react-router-dom';\nimport getApi from 'services/fetchApi';\nimport Loader from 'components/Loader/Loader';\nimport Error from 'components/Error/Error';\n\nconst movieIdApi = getApi();\n\nfunction MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const { id } = useParams();\n  // console.log('movieId-----', id);\n  // console.log('useParams()=====>>', useParams());\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  const baseUrl = 'https://image.tmdb.org/t/p/w200/';\n\n  useEffect(() => {\n    setLoading(true);\n    setError(false);\n\n    const fetchDataMovieDetails = async () => {\n      try {\n        await movieIdApi.fetchMovieId(id).then(response => {\n          // console.log('response ==>', response);\n\n          if (response.success === false) {\n            setError(\n              new Error('The resource you requested could not be found.')\n            );\n          }\n          setMovie(response);\n        });\n      } catch (error) {\n        setError(new Error('The resource you requested could not be found.'));\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDataMovieDetails();\n  }, [id]);\n\n  if (!movie) {\n    return;\n  }\n\n  return (\n    <>\n      {loading && <Loader />}\n\n      {error && <Error />}\n\n      <Link to={backLinkLocationRef.current}>Back to movies</Link>\n\n      {movie && (\n        <div>\n          <div>\n            <img\n              src={`${baseUrl}${movie.backdrop_path}`}\n              alt={movie.original_title}\n            />\n          </div>\n          <img\n            src={`${baseUrl}${movie.poster_path}`}\n            alt={movie.original_title}\n          />\n          <p>{movie.original_title}</p>\n          <p>{movie.overview}</p>\n        </div>\n      )}\n      <section>\n        <ul>\n          <li>\n            <Link to={`/movies/${id}/cast`}>Actors</Link>\n          </li>\n          <li>\n            <Link to={`/movies/${id}/reviews`}>Reviews</Link>\n          </li>\n        </ul>\n      </section>\n      <Outlet />\n    </>\n  );\n}\n\nexport default MovieDetails;\n","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTMxNTJlM2MxOWQ1YzU3NjQyMzVjZmFhMmU0MjJmMSIsInN1YiI6IjY0ZTU4ZTdhMWZlYWMxMDBhYjhlNTA4MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k6MLKJDkEcuLx4u4b6W5X0t6JAySBDO73jvRSeD_w2g',\n  },\n};\n\nasync function fetchTrendingMovies() {\n  try {\n    const response = await fetch(\n      'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n      options\n    );\n    // console.log('response fetch', response);\n\n    if (!response.ok) {\n      return Promise.reject(new Error(`Sorry, something went wrong...`));\n    }\n\n    const data = await response.json();\n    // console.log('data trending', data);\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function fetchMovieId(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n      options\n    );\n    // console.log('response fetchID', response);\n\n    const data = await response.json();\n    console.log('data ID == ID', data);\n    return data;\n  } catch (error) {\n    console.error('ERROR', error);\n  }\n}\n\nasync function fetchMovieActors(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n      options\n    );\n    console.log('response fetchActor', response);\n\n    const data = await response.json();\n    console.log('data ACTORS ACTORS', data);\n    return data;\n  } catch (error) {\n    console.log('ERROR', error);\n  }\n}\n\nasync function fetchMovieReviews(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US`,\n      options\n    );\n    console.log('reviews', response);\n\n    const data = await response.json();\n    console.log('data reviews', data);\n    return data;\n  } catch (error) {\n    console.log('ERROR', error);\n  }\n}\n\nasync function fetchSearchMovie(query) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n      options\n    );\n    // console.log('SEARCH QUERY', response);\n\n    if (!response.ok) {\n      return Promise.reject(new Error(`Sorry, something went wrong...`));\n    }\n\n    const data = await response.json();\n    console.log('SEARCH QUERY', data);\n    return data;\n  } catch (error) {\n    console.error('ERROR', error);\n  }\n}\n\nconst getApi = () => {\n  return {\n    fetchTrendingMovies,\n    fetchMovieId,\n    fetchMovieActors,\n    fetchMovieReviews,\n    fetchSearchMovie,\n  };\n};\n\nexport default getApi;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["ErrorEl","styled","ImgError","Error","role","src","errorImage","alt","movieIdApi","getApi","useState","movie","setMovie","loading","setLoading","error","setError","id","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","baseUrl","useEffect","fetchDataMovieDetails","fetchMovieId","then","response","success","to","current","backdrop_path","original_title","poster_path","overview","options","method","headers","accept","Authorization","fetchTrendingMovies","fetch","ok","Promise","reject","json","data","console","movieId","log","fetchMovieActors","fetchMovieReviews","fetchSearchMovie","query","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}