{"version":3,"file":"static/js/559.c76d4244.chunk.js","mappings":"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","sources":["components/Footer/Footer.styled.jsx","components/Footer/Footer.jsx","components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.jsx","components/SearchMoviesList/SearchMoviesList.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/fetchApi.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const FooterSection = styled.footer`\n  padding: 50px 50px;\n  margin-top: auto;\n  background-color: #032541;\n`;\n","import { Logo } from 'components/Logo/Logo';\nimport { FooterSection } from './Footer.styled';\n\nfunction Footer() {\n  return (\n    <FooterSection>\n      <div>\n        <Logo to=\"/\" />\n      </div>\n    </FooterSection>\n  );\n}\n\nexport default Footer;\n","import styled from '@emotion/styled';\nimport { BsSearch } from 'react-icons/bs';\n\nexport const FormEl = styled.form`\n  position: relative;\n  width: 700px;\n  margin: 0 auto;\n  top: 0;\n  left: 0;\n`;\n\nexport const InputEl = styled.input`\n  width: 100%;\n  height: 42px;\n  padding: 0;\n  padding-left: 10px;\n  border: 2px solid #032541;\n  border-radius: 30px;\n  font-size: 18px;\n  font-weight: 400;\n  outline: none;\n  color: #032541;\n\n  ::placeholder {\n    font-size: 18px;\n    color: ${p => p.theme.colors.placeHolder};\n    opacity: 0.4;\n  }\n`;\n\nexport const Button = styled.button`\n  position: absolute;\n  top: 2px;\n  right: -12px;\n  width: 111px;\n  height: 42px;\n  padding: 0;\n  border: none;\n  border-radius: 30px;\n  background: linear-gradient(93deg, #90cea1 25%, #01b4e4 92%);\n  cursor: pointer;\n`;\nexport const BsSearchSVG = styled(BsSearch)`\n  fill: #032541;\n  width: 24px;\n  height: 24px;\n\n  :hover {\n    fill: #fff;\n  }\n`;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { FormEl, InputEl, Button, BsSearchSVG } from './SearchBar.styled';\n\nexport default function SearchBar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Відповідає за оновлення стану\n  const handleChange = e => {\n    const { value } = e.currentTarget;\n\n    setSearchQuery(value.toLowerCase());\n  };\n\n  //   Викликається під час відправлення форми\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      toast.info('Please enter the name of the movie', {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n      return;\n    }\n    onSubmit(searchQuery);\n    setSearchQuery(searchQuery);\n  };\n\n  return (\n    <>\n      <FormEl onSubmit={handleSubmit}>\n        <InputEl\n          type=\"text\"\n          name=\"searchQuery\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={searchQuery}\n          onChange={handleChange}\n        />\n        <Button type=\"submit\">\n          <BsSearchSVG />\n        </Button>\n      </FormEl>\n    </>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useLocation, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport default function SearchMoviesList({ movies }) {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nSearchMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      title: PropTypes.string,\n    })\n  ),\n};\n","import styled from '@emotion/styled';\n\nexport const Title = styled.h1`\n  text-align: center;\n  margin-bottom: 50px;\n  color: #032541;\n`;\n","// import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n// import { useDebounce } from 'react-recipes';\nimport getApi from 'services/fetchApi';\nimport Loader from 'components/Loader/Loader';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport SearchMoviesList from 'components/SearchMoviesList/SearchMoviesList';\nimport Footer from 'components/Footer/Footer';\nimport { Title } from './Movies.styled';\n\nconst searchApi = getApi();\n\nexport default function Movies() {\n  const [movies, setMovies] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = searchQuery => {\n    setSearchQuery(searchQuery);\n  };\n\n  // const [searchParams, setSearchParams] = useSearchParams({ query: '' });\n\n  // const query = searchParams.get('query');\n  // const debounceQuery = useDebounce(query, 250); //затримуємо виконання функції,\n  // тобто поки користувач не припинить вводоити текст протягом певного періоду\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n\n    setLoading(true);\n\n    const fetchDataSearchMovie = async () => {\n      try {\n        const { results } = await searchApi.fetchSearchMovie(searchQuery);\n        if (!results) {\n          toast.error('The movie could not be found.', {\n            position: toast.POSITION.TOP_CENTER,\n          });\n          return;\n        }\n        setMovies(results);\n        console.log('setMovieName SEARCH ==>', results);\n      } catch (error) {\n        console.error(error);\n        toast.error('404 Error !!!', {\n          position: toast.POSITION.TOP_CENTER,\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDataSearchMovie();\n\n    // setMovies([]);\n    setLoading(false);\n  }, [searchQuery]);\n\n  console.log('movies', movies);\n\n  return (\n    <>\n      <main>\n        {loading && <Loader />}\n        <Title>Let's find your movie</Title>\n        <SearchBar onSubmit={handleSubmit} />\n        {movies && (\n          <section>\n            <SearchMoviesList movies={movies} />\n          </section>\n        )}\n      </main>\n      <Footer />\n    </>\n  );\n}\n","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTMxNTJlM2MxOWQ1YzU3NjQyMzVjZmFhMmU0MjJmMSIsInN1YiI6IjY0ZTU4ZTdhMWZlYWMxMDBhYjhlNTA4MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k6MLKJDkEcuLx4u4b6W5X0t6JAySBDO73jvRSeD_w2g',\n  },\n};\n\nasync function fetchTrendingMovies() {\n  try {\n    const response = await fetch(\n      'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n      options\n    );\n    // console.log('response fetch', response);\n\n    if (!response.ok) {\n      return Promise.reject(new Error(`Sorry, something went wrong...`));\n    }\n\n    const data = await response.json();\n    // console.log('data trending', data);\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function fetchMovieId(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n      options\n    );\n    // console.log('response fetchID', response);\n\n    const data = await response.json();\n    console.log('data ID == ID', data);\n    return data;\n  } catch (error) {\n    console.error('ERROR', error);\n  }\n}\n\nasync function fetchMovieActors(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n      options\n    );\n    console.log('response fetchActor', response);\n\n    const data = await response.json();\n    console.log('data ACTORS ACTORS', data);\n    return data;\n  } catch (error) {\n    console.log('ERROR', error);\n  }\n}\n\nasync function fetchMovieReviews(movieId) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US`,\n      options\n    );\n    console.log('reviews', response);\n\n    const data = await response.json();\n    console.log('data reviews', data);\n    return data;\n  } catch (error) {\n    console.log('ERROR', error);\n  }\n}\n\nasync function fetchSearchMovie(query) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n      options\n    );\n    // console.log('SEARCH QUERY', response);\n\n    if (!response.ok) {\n      return Promise.reject(new Error(`Sorry, something went wrong...`));\n    }\n\n    const data = await response.json();\n    console.log('SEARCH QUERY', data);\n    return data;\n  } catch (error) {\n    console.error('ERROR', error);\n  }\n}\n\nconst getApi = () => {\n  return {\n    fetchTrendingMovies,\n    fetchMovieId,\n    fetchMovieActors,\n    fetchMovieReviews,\n    fetchSearchMovie,\n  };\n};\n\nexport default getApi;\n"],"names":["FooterSection","styled","Logo","to","FormEl","InputEl","p","theme","colors","placeHolder","Button","BsSearchSVG","BsSearch","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","trim","toast","position","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","SearchMoviesList","movies","location","useLocation","map","movie","id","state","from","title","Title","searchApi","getApi","Movies","setMovies","loading","setLoading","useEffect","fetchDataSearchMovie","fetchSearchMovie","results","console","log","error","Loader","Footer","options","method","headers","accept","Authorization","fetchTrendingMovies","fetch","response","ok","Promise","reject","Error","json","data","fetchMovieId","movieId","fetchMovieActors","fetchMovieReviews","query"],"sourceRoot":""}